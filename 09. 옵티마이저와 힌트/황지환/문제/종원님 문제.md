# 문제
1. SQL 쿼리 실행 절차 중 가장 첫 번째 단계는 '최적화 및 실행계획 수립'이다. ( )
2. 비용 기반 최적화(CBO)'는 옵티마이저에 내장된 우선순위에 따라서만 실행 계획을 수립한다. ( )
3. ORDER BY 처리 시 인덱스를 이용하는 방법은 SELECT는 빠르지만 INSERT, UPDATE 작업은 느려질 수 있다. ( )
4. SELECT DISTINCT first_name, last_name 쿼리는 first_name 컬럼만 유니크하게 조회한다. ( )
5. GROUP BY의 결과에 대해 필터링 역할을 수행하는 것은 WHERE 절이다. ( )
6. 쿼리 처리를 위한 여러 방법을 만들고, 각 단위 작업의 비용 정보와 통계 정보를 이용해 실행 계획을 수립하는 방식을 ( _ ) 기반 최적화라고 한다.
7. InnoDB 스토리지 엔진이 앞으로 필요할 데이터를 미리 디스크에서 읽어 버퍼 풀에 적재하는 기능을 ( _ )라고 한다.
8. 정렬을 수행하기 위해 별도로 할당받는 메모리 공간을 ( _ )라고 하며, 이 공간이 부족하면 디스크를 사용한다.
9. 조건에 일치하는 레코드가 검색될 때마다 바로 클라이언트로 전송해주는 방식을 ( _ ) 처리라고 한다.
10. GROUP BY나 ORDER BY 처리 시, MySQL 엔진이 스토리지 엔진으로부터 받은 레코드를 가공하기 위해 사용하는 임시 테이블을 ( _ ) 테이블이라고 부른다.


---

# 내풀이
1. x
2. x
3. o
4. x
5. x
6. 비용
7. 워밍?
8. 소트 버퍼
9. 스트리밍
10. 내부 임시?, Temptable?






---
# 답지

1. X, 가장 첫 번째 단계는 'SQL 파싱(Parsing)'
2. X, 비용 기반 최적화(CBO)는 비용과 통계 정보를 이용
3. O, INSERT/UPDATE 시 인덱스도 정렬 상태를 유지해야 하므로 부가 작업이 필요
4. X, (first_name, last_name) 두 컬럼의 조합이 유니크한 레코드를 조회
5. X, GROUP BY의 결과에 대한 필터링은 HAVING 절이 수행
6. 비용
7. 리드 어헤드(Read Ahead)
8. 소트 버퍼(Sort Buffer)
9. 스트리밍(Streaming)
10. 내부 임시

---
# 문제
1. MRR(Multi Range-Read)은 드라이빙 테이블의 레코드를 읽어 드리븐 테이블과의 조인을 즉시 실행하지 않고, 조인 대상을 버퍼링했다가 처리하는 방식이다.
2. 인덱스 컨디션 푸시다운(ICP)은 WHERE 조건절의 일부를 MySQL 엔진이 아닌 스토리지 엔진 레벨에서 미리 처리하도록 하여 불필요한 데이터 조회를 줄이는 기능이다.
3. '인덱스 머지 - 교집합'은 WHERE 절의 조건들이 OR 연산자로 연결되어 있을 때, 각 인덱스를 따로 검색한 후 그 결과의 합집합을 반환하는 방식이다.
4. 세미 조인 최적화 중 '테이블 풀아웃'은 서브쿼리의 결과가 1건이 아니더라도, 서브쿼리의 테이블을 외부 쿼리로 끄집어내어 조인 쿼리로 재작성하는 최적화이다.
5. 네스티드 루프 조인은 첫 번째 레코드를 찾는 속도가 빨라 온라인 서비스(최고 응답속도 전략)에 적합하고, 해시 조인은 전체 데이터를 처리하는 속도가 빨라 분석 작업(최고 스루풋 전략)에 더 적합하다.
6. 어떤 방식으로도 드리븐 테이블의 풀 테이블 스캔을 피할 수 없을 때, 드라이빙 테이블의 레코드를 임시 메모리에 캐시한 후 드리븐 테이블과 조인하는 데 사용되는 이 메모리 캐시를 (  )라고 부른다.
7. 하나의 테이블에 대해 2개 이상의 인덱스를 사용하여 쿼리를 처리하는 ( ) 방식은, 쿼리의 각 조건이 서로 다른 인덱스를 사용할 수 있을 때 선택될 수 있다.
8. 세미 조인 최적화 전략 중, 서브쿼리의 결과를 내부 임시 테이블로 만들어 사용하는 방식을 (  ) 최적화라고 한다.
9. FROM 절에 사용된 서브쿼리를 (  )(이)라고 부르며, MySQL 5.7 버전부터는 이 서브쿼리를 외부 쿼리와 병합하여 제거하는 '파생 테이블 머지' 최적화가 도입되었다.
10. (  )은/는 인덱스를 삭제하지 않고도 옵티마이저가 해당 인덱스를 사용하지 못하도록 제어하는 기능으로, ALTER TABLE 명령을 통해 설정할 수 있다.


# 내 풀이
1. o
2. o
3. x
4. o ->  x
5. o
6. ? -> x
7. 인덱스 머지
8. 서브쿼리 -> x
9. ? -> x
10. No Index -> x


# 답지
1. O (설명: MRR은 조인을 즉시 실행하지 않고 버퍼링.)
2. O (설명: ICP는 작업을 스토리지 엔진으로 '떠넘기는(푸시다운)' 것)
3. X (설명: '인덱스 머지 - 교집합(intersection)', OR 연산자로 합집합을 구하는 것은 '인덱스 머지 - 합집합(union)')
4. X (설명: '테이블 풀아웃'은 서브쿼리가 UNIQUE 인덱스나 PK 룩업을 통해 결과가 1건인 경우에만 사용 가능.)
5. O (설명: 네스티드 루프 조인은 첫 응답이 빠르고, 해시 조인은 전체 처리량(스루풋)에 강점이 있음.)
6. 조인 버퍼
7. 인덱스 머지
8. 구체화 (Materialization)
9. 파생 테이블 (Derived Table)
10. 인비저블 인덱스 (Invisible Index)